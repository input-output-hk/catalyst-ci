VERSION 0.8

# cspell: words ruleset

spectral-base:
    FROM stoplight/spectral:6.13.1
    WORKDIR /work

BUILD_SPECTRAL:
    FUNCTION

    # Specify the directory to lint
    ARG dir = .
    
    # Rule set for spectral
    ARG rule_set=.spectral.yml

    COPY --dir $dir .
    COPY $rule_set .

    RUN spectral \
        lint \
        "**/*.{yml,json}" \
        --ruleset $rule_set \
